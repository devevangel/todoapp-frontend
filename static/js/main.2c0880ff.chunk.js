(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{26:function(e,t,a){e.exports=a(37)},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),s=a.n(c),l=a(5),o=a(3),m=a(24),u=a(2),i=a.n(u),d=a(6),p=function(){var e=Object(d.a)(i.a.mark((function e(t,a,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desolate-reef-21809.herokuapp.com/api/v1/users/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:t,email:a,password:r})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(i.a.mark((function e(t,a,r,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({user:t,title:r,summary:n})});case 2:return c=e.sent,e.next=5,c.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(i.a.mark((function e(t,a){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desolate-reef-21809.herokuapp.com/api/v1/users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t,password:a})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),b=function(){localStorage.removeItem("jwt"),localStorage.removeItem("user")},E=function(){var e=Object(d.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}});case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(i.a.mark((function e(t,a,r,n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos/".concat(a),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({title:r,summary:n})});case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a,r,n){return e.apply(this,arguments)}}(),v=function(e){var t=e.component,a=Object(m.a)(e,["component"]);return n.a.createElement(o.b,Object.assign({},a,{render:function(e){return function(){if(localStorage.getItem("jwt")&&localStorage.getItem("user"))return!0}()?n.a.createElement(t,e):n.a.createElement(o.a,{to:{pathname:"/home",state:{from:e.location}}})}}))},y=function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"jumbotron"},n.a.createElement("h1",{className:"display-4"},"Hello, User!"),n.a.createElement("p",{className:"lead"},"This is a simple todo app, a simple jumbotron-style component for calling extra attention to featured content or information."),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("p",null,"It uses utility classNamees for typography and spacing to space content out within the larger container."),n.a.createElement("div",null,n.a.createElement(l.b,{to:"/signup",className:"btn btn-primary btn-lg mr-2"},"Signup"),n.a.createElement(l.b,{to:"/login",className:"btn btn-primary btn-lg"},"Login"))))},j=a(10),N=a(1),O=a(11),x=function(){var e=Object(r.useState)({name:"",email:"",password:"",status:"",message:"",redirectTo:!1}),t=Object(O.a)(e,2),a=t[0],c=t[1],s=a.name,m=a.email,u=a.password,f=a.status,h=a.message,b=a.redirectTo,E=function(e){return function(t){c(Object(N.a)(Object(N.a)({},a),{},Object(j.a)({},e,t.target.value)))}},g=function(){var e=Object(d.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p(s,m,u);case 3:"success"===(r=e.sent).status?(localStorage.setItem("jwt",r.token),localStorage.setItem("user",r.data.user._id),c(Object(N.a)(Object(N.a)({},a),{},{name:"",email:"",password:"",status:r.status,redirectTo:!0}))):"fail"===r.status&&c(Object(N.a)(Object(N.a)({},a),{},{status:r.status,message:r.message}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card mt-5",style:{width:"30rem"}},n.a.createElement("h6",{className:"card-header text-right"},n.a.createElement(l.b,{to:"/login"},"Login")),n.a.createElement("h5",{className:"card-header text-center"},"SignUp"),n.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===f?"":"none"}},h),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Full name"),n.a.createElement("input",{type:"text",className:"form-control",placeholder:"John Doe",onChange:E("name"),value:s})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email address"),n.a.createElement("input",{type:"email",className:"form-control",placeholder:"name@example.com",onChange:E("email"),value:m})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Password"),n.a.createElement("input",{type:"password",className:"form-control",onChange:E("password"),value:u}))),n.a.createElement("center",null,n.a.createElement("button",{type:"submit",className:"btn btn-primary text-center",onClick:g},"submit")))),function(){if(b)return n.a.createElement(o.a,{to:{pathname:"/",state:{reload:!0}}})}())},w=function(){var e=Object(r.useState)({email:"",password:"",status:"",message:"",redirectTo:!1}),t=Object(O.a)(e,2),a=t[0],c=t[1],s=a.email,m=a.password,u=a.status,p=a.message,f=a.redirectTo,b=function(e){return function(t){c(Object(N.a)(Object(N.a)({},a),{},Object(j.a)({},e,t.target.value)))}},E=function(){var e=Object(d.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h(s,m);case 3:"success"===(r=e.sent).status?(localStorage.setItem("jwt",r.token),localStorage.setItem("user",r.data.user._id),c(Object(N.a)(Object(N.a)({},a),{},{email:"",password:"",status:r.status,redirectTo:!0}))):"fail"===r.status&&c(Object(N.a)(Object(N.a)({},a),{},{status:r.status,message:r.message}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card mt-5",style:{width:"30rem"}},n.a.createElement("h6",{className:"card-header text-right"},n.a.createElement(l.b,{to:"/signup"},"Signup")),n.a.createElement("h5",{className:"card-header text-center"},"Login"),n.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===u?"":"none"}},p),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email address"),n.a.createElement("input",{type:"email",value:s,className:"form-control",placeholder:"name@example.com",onChange:b("email")})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Password"),n.a.createElement("input",{type:"password",value:m,className:"form-control",onChange:b("password")}))),n.a.createElement("center",null,n.a.createElement("button",{type:"submit",className:"btn btn-primary text-center",onClick:E},"submit")))),function(){if(f)return n.a.createElement(o.a,{to:{pathname:"/",state:{reload:!0}}})}())},k=a(21),S=a(22),T=a(25),C=a(23),I=function(e){var t=e.title,a=e.summary,r=e._id,c=e.deleteTodo;return n.a.createElement("li",{key:r,className:"list-group-item"},n.a.createElement("div",{className:"card border-dark mb-3"},n.a.createElement("div",{className:"card-header"},t),n.a.createElement("div",{className:"card-body text-dark"},n.a.createElement("p",{className:"card-text"},a)),n.a.createElement("div",{className:"card-footer bg-transparent border-dark"},n.a.createElement(l.b,{to:{pathname:"/edit",state:{prevTitle:t,prevSummary:a,id:r}},className:"btn btn-outline-primary float-left"},"Edit"),n.a.createElement("button",{className:"btn btn-outline-danger float-right",onClick:function(){c(r)}},"delete"))))},L=function(e){Object(T.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(k.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={todoList:[],count:0},e.handleLogout=function(){b(),e.props.history.push("/home")},e.handleDel=function(t){E(t,localStorage.getItem("jwt"));var a=e.state.todoList.filter((function(e){return e._id!==t}));e.setState({todoList:a})},e}return Object(S.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;fetch("https://desolate-reef-21809.herokuapp.com/api/v1/todos",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){return e.json()})).then((function(t){e.setState({todoList:t.data.todos,count:t.results})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card mt-5",style:{width:"30rem"}},n.a.createElement("h6",{className:"card-header text-right"},n.a.createElement("button",{className:"btn btn-outline-danger float-right",onClick:this.handleLogout},"Logout")),n.a.createElement("h5",{className:"card-header text-center"},"Todos"),n.a.createElement("ul",{className:"list-group list-group-flush"},this.state.todoList.map((function(t,a){return n.a.createElement(I,{key:a,title:t.title,summary:t.summary,_id:t._id,deleteTodo:e.handleDel})}))),n.a.createElement("div",{className:"card-body"},n.a.createElement("center",null,n.a.createElement(l.b,{to:"/add",className:"btn btn-outline-primary"},"Create Todo")))))}}]),a}(r.Component),A=function(e){var t=e.history,a=Object(r.useState)({title:"",summary:"",token:localStorage.getItem("jwt"),user:localStorage.getItem("user"),status:"",message:"",redirectTo:!1}),c=Object(O.a)(a,2),s=c[0],m=c[1],u=s.title,p=s.summary,h=s.status,E=s.message,g=s.user,v=s.token,y=s.redirectTo,x=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(g,v,u,p);case 2:"success"===(t=e.sent).status?m(Object(N.a)(Object(N.a)({},s),{},{title:"",summary:"",message:"",status:t.status,redirectTo:!0})):"fail"===t.status&&m(Object(N.a)(Object(N.a)({},s),{},{status:t.status,message:t.message}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){return function(t){t.preventDefault(),m(Object(N.a)(Object(N.a)({},s),{},Object(j.a)({},e,t.target.value)))}},k=function(){t.push("/"),b()};return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card mt-5",style:{width:"30rem"}},n.a.createElement("h6",{className:"card-header text-right"},n.a.createElement(l.b,{onClick:k,to:"/"},"Logout")),n.a.createElement("h5",{className:"card-header text-center"},"Add Todo"),n.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===h?"":"none"}},E),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Title"),n.a.createElement("input",{value:u,type:"text",className:"form-control",placeholder:"your title goes here...",onChange:w("title")})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Summary"),n.a.createElement("input",{value:p,type:"text",className:"form-control",placeholder:"your summary goes here...",onChange:w("summary")}))),n.a.createElement("center",null,n.a.createElement("button",{onClick:x,className:"btn btn-primary"},"Add")))),function(){if(y)return n.a.createElement(o.a,{to:"/"})}())},D=function(e){var t=e.location,a=e.history,c=Object(r.useState)({title:t.state.prevTitle,summary:t.state.prevSummary,id:t.state.id,token:localStorage.getItem("jwt"),status:"",message:"",redirectTo:!1}),s=Object(O.a)(c,2),m=s[0],u=s[1],p=m.id,f=m.title,h=m.summary,E=m.message,v=m.status,y=m.token,x=m.redirectTo,w=function(e){return function(t){u(Object(N.a)(Object(N.a)({},m),{},Object(j.a)({},e,t.target.value)))}},k=function(){a.push("/"),b()},S=function(){var e=Object(d.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(y,p,f,h);case 2:"success"===(t=e.sent).status?u(Object(N.a)(Object(N.a)({},m),{},{title:"",summary:"",message:"",status:t.status,redirectTo:!0})):"fail"===t.status&&u(Object(N.a)(Object(N.a)({},m),{},{status:t.status,message:t.message}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"d-flex justify-content-center"},n.a.createElement("div",{className:"card mt-5",style:{width:"30rem"}},n.a.createElement("div",null,n.a.createElement("h6",{className:"card-header text-right"},n.a.createElement(l.b,{onClick:k,to:"/"},"Logout"))),n.a.createElement("h5",{className:"card-header text-center"},"Edit Todo"),n.a.createElement("div",{className:"alert alert-danger",style:{display:"fail"===v?"":"none"}},E),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Title"),n.a.createElement("input",{value:f,type:"text",className:"form-control",onChange:w("title")})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Summary"),n.a.createElement("input",{value:h,type:"text",className:"form-control",onChange:w("summary")}))),n.a.createElement("center",null,n.a.createElement("button",{onClick:S,className:"btn btn-primary"},"update")))),function(){if(x)return n.a.createElement(o.a,{to:"/"})}())};var J=function(){return n.a.createElement(l.a,null,n.a.createElement(o.d,null,n.a.createElement(v,{path:"/",exact:!0,component:L}),n.a.createElement(o.b,{path:"/home",exact:!0,component:y}),n.a.createElement(o.b,{path:"/signup",exact:!0,component:x}),n.a.createElement(o.b,{path:"/login",exact:!0,component:w}),n.a.createElement(v,{path:"/add",exact:!0,component:A}),n.a.createElement(v,{path:"/edit",exact:!0,component:D})))};s.a.render(n.a.createElement(J,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.2c0880ff.chunk.js.map